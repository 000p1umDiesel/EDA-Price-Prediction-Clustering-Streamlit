import streamlit as st
from streamlit_option_menu import option_menu
import joblib
import pandas as pd
import folium
from streamlit_folium import st_folium
import plotly.express as px
from streamlit_folium import folium_static


with st.sidebar:
    selected = option_menu("–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ù—å—é-–ô–æ—Ä–∫–∞", ["–ì–ª–∞–≤–Ω–æ–µ","–ù—å—é –ô–æ—Ä–∫ –∏ –µ–≥–æ —Ä–∞–π–æ–Ω—ã",
                                                      "–í–∏–¥—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞",
                                                      '–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞',
                                                      "–ö–∞—Ä—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏",
                                                      "–ü–æ–¥–æ–±—Ä–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å",
                                                      "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏",
                                                    "–ú–æ–¥–µ–ª–∏"], 
        icons=['cast', 'house','building','briefcase','map','cloud','cash','gear'], menu_icon = 'cast', 
        default_index=0, orientation="horizontal")














###------------------------------------------------------------------------------------------------------------------------------
### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞
if selected == '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏':
    def user_input_features():
        type_options = ('Co-op', 'House', 'Condo', 'Multi-family home', 'Condop', 'Townhouse', 'Land')
        district_options = ('Queens', 'New York', 'Kings', 'Richmond', 'Bronx')

        type = st.selectbox('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–º–∞', type_options)
        
        if type == 'Land':
            # –ï—Å–ª–∏ —Ç–∏–ø –¥–æ–º–∞ - "Land", –∑–∞–ø–æ–ª–Ω—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (1)
            district = st.sidebar.selectbox('–†–∞–π–æ–Ω', district_options)
            close_to_sights = st.sidebar.selectbox('–ë–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º', ('–î–∞', '–ù–µ—Ç'))
            close_to_sights = 1 if close_to_sights == '–î–∞' else 0
            
            data = {'TYPE': type,
                    'BEDS': 1,  
                    'BATH': 1,  
                    'PROPERTYSQFT': 1,  
                    'District': district,
                    'Close to the sights': close_to_sights}
        else:
            # –ï—Å–ª–∏ —Ç–∏–ø –¥–æ–º–∞ –Ω–µ "Land", –ø–æ–ª—É—á–∞–µ–º –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
            bed = st.number_input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª—å–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç', step=1, min_value=1, max_value=100)
            bath = st.number_input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç', step=1, min_value=1, max_value=100)
            sqft = st.number_input('–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–ª–æ—â–∞–¥–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö', step=1, min_value=20, max_value=9999)
            district = st.selectbox('–†–∞–π–æ–Ω', district_options)
            close_to_sights = st.selectbox('–ë–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º', ('–î–∞', '–ù–µ—Ç'))
            close_to_sights = 1 if close_to_sights == '–î–∞' else 0

            data = {'TYPE': type,
                    'BEDS': bed,
                    'BATH': bath,
                    'PROPERTYSQFT': sqft,
                    'District': district,
                    'Close to the sights': close_to_sights}
        
        features = pd.DataFrame(data, index=[0])
        return features

    def load_data():
        data_predict = pd.read_excel('X_example.xlsx', index_col=None).drop(['Unnamed: 0','PRICE'], axis=1)
        data = pd.read_excel('X_example.xlsx').drop('Unnamed: 0', axis=1)
        extra_features = pd.read_excel('Extra Features.xlsx', index_col=None)
        return data_predict, data, extra_features

    def preprocess_data_for_regression(input_df, data_predict, extra_features):
        input_df = input_df.merge(extra_features, on='District', how='left')
        df = pd.concat([input_df, data_predict], axis=0)
        df = pd.get_dummies(df, columns=['District', 'TYPE'], drop_first=True, prefix=None)
        X = df[:1]
        return X

    def preprocess_data_for_clustering(prediction, input_df, extra_features):
        prediction = pd.DataFrame({'PRICE': prediction})
        X_cluster = pd.concat([prediction, input_df], axis=1)
        X_cluster = X_cluster.merge(extra_features, on='District', how='left')

        return X_cluster

    def predict_price(X):
        model_cat = joblib.load('Catboost_Regression.pkl')
        prediction = model_cat.predict(X)

        return prediction

    def cluster_data(X_clustering, data):
        data_kmeans = pd.concat([X_clustering, data], axis=0)
        data_kmeans = pd.get_dummies(data_kmeans, columns=['District', 'TYPE'], drop_first=True, prefix=None)
        model_kmeans = joblib.load('Kmeans.pkl')
        clusters = model_kmeans.predict(data_kmeans)
        data_kmeans['cluster'] = clusters

        return data_kmeans

    def categorize_clusters(data_kmeans):
        mean_df = data_kmeans.groupby('cluster').mean()
        elite_category_kmeans = mean_df['PRICE'].idxmax()
        economic_category_kmeans = mean_df['PRICE'].idxmin()
        comfort_category_kmeans = mean_df[mean_df['PRICE'] > mean_df['PRICE'].loc[economic_category_kmeans]].idxmin()['PRICE']
        business_category_kmeans = mean_df[mean_df['PRICE'] < mean_df['PRICE'].loc[elite_category_kmeans]].idxmax()['PRICE']
        data_kmeans['kmeans_category'] = data_kmeans['cluster'].map({
            elite_category_kmeans: '–≠–ª–∏—Ç–Ω—ã–π',
            economic_category_kmeans: '–≠–∫–æ–Ω–æ–º',
            comfort_category_kmeans: '–ö–æ–º—Ñ–æ—Ä—Ç',
            business_category_kmeans: '–ë–∏–∑–Ω–µ—Å'
        })
        return data_kmeans


    def main():
        st.title('–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å')
        input_df = user_input_features()

        data_predict, data, extra_features = load_data()

        X_regression = preprocess_data_for_regression(input_df, data_predict, extra_features)
        
        if st.button('–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–¥–µ–ª–∏'):
            prediction = predict_price(X_regression)
            X_clustering = preprocess_data_for_clustering(prediction, input_df, extra_features)
            data_kmeans = cluster_data(X_clustering, data)
            data_kmeans = categorize_clusters(data_kmeans)

            st.subheader('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–º–∞')
            if input_df['TYPE'].values[0] != 'Land':  # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø –¥–æ–º–∞
                if prediction < 0:
                    st.warning('–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤—ã–±–µ—Ä–µ—Ç–µ –¥—Ä—É–≥–∏–µ üî•')
                else:
                    st.success(f'–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è —Ü–µ–Ω–∞: {round(prediction[0])}$')
                    st.success(f'–û–∂–∏–¥–∞–µ–º–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–º–∞: {data_kmeans["kmeans_category"][:1].values[0]}')
            else:
                if prediction[0] < 0:
                    st.warning('–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤—ã–±–µ—Ä–µ—Ç–µ –¥—Ä—É–≥–∏–µ üî•')
                else:
                    st.success(f'–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è —Ü–µ–Ω–∞: {round(prediction[0])}$')

    if __name__ == "__main__":
        main()














###------------------------------------------------------------------------------------------------------------------------------
### –û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ
elif selected == '–í–∏–¥—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞':
    st.title("–í–∏–¥—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞")

    st.header("Co-op (–∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤)")

    st.markdown("""
    –ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤ - —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–º–ø–∞–Ω–∏—è –≤–ª–∞–¥–µ–µ—Ç –≤—Å–µ–º –∑–¥–∞–Ω–∏–µ–º –∏ –ø—Ä–∞–≤–∞–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–µ–≥–æ. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –∏–ª–∏ –¥–æ–º–æ–≤–ª–∞–¥–µ–ª–µ—Ü, –ø–æ —Å—É—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –∞–∫—Ü–∏–æ–Ω–µ—Ä–æ–º –∫–æ–º–ø–∞–Ω–∏–∏, –∞ –Ω–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –∏ –∫–æ–≥–¥–∞ –æ–Ω –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç –∞–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏, –æ–Ω –∑–∞–∫–ª—é—á–∞–µ—Ç —Å –Ω–µ–π –¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø–æ–∫—É–ø–∞—Ç–µ–ª—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç –∞–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø—Ä–∞–≤–æ –Ω–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –≤ –∑–¥–∞–Ω–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—ã –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–æ–≤ —Å–¥–∞—é—Ç —Å–≤–æ–∏ –¥–æ–º–∞ –≤ —Å—É–±–∞—Ä–µ–Ω–¥—É –∏–ª–∏ –≤ –∞—Ä–µ–Ω–¥—É –≤—Ç–æ—Ä–æ–º—É –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—é, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ —è–≤–ª—è—é—Ç—Å—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º–∏.

    –¶–µ–Ω—ã –Ω–∞ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –æ–±—ã—á–Ω–æ –≥–æ—Ä–∞–∑–¥–æ –Ω–∏–∂–µ, —á–µ–º –Ω–∞ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã, –∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –æ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å, –±–æ–ª–µ–µ 90% –≤ –ø—Ä–æ—à–ª–æ–º –∏ –ø–æ—á—Ç–∏ 70% —Å–µ–π—á–∞—Å. –ù–∞ –∑–∞—Ä–µ —Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ù—å—é-–ô–æ—Ä–∫–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –±—ã–ª–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π, –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –±—ã–ª–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π, –∞ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –ø–æ—è–≤–∏–ª–∏—Å—å –ø–æ–∑–∂–µ, –ø–æ—ç—Ç–æ–º—É –º–Ω–æ–≥–∏–µ —Å—Ç–∞—Ä—ã–µ –∏ –ª—É—á—à–∏–µ —Ä–∞–π–æ–Ω—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –ü—è—Ç–∞—è –∞–≤–µ–Ω—é, –±—ã–ª–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏. –ù–æ –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –∏ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –¥–æ–≥–Ω–∞–ª–∏ –∏ —Å—Ç–∞–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ–ø–µ—Ä–µ–¥–∏–≤ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –ø–æ —Ü–µ–Ω–µ –∏ —Ä–æ—Å—Ç—É —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
    """)

    st.image('Photos/co-op.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Co-op')


    st.header("House (–î–æ–º)")

    st.markdown("""
    –î–æ–º–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å —Ä—ã–Ω–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≥–æ—Ä–æ–¥–∞, —Ö–æ—Ç—è –æ–Ω–∏ —á–∞—â–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –°—Ç–µ–π—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥, –ë—Ä—É–∫–ª–∏–Ω, –ö–≤–∏–Ω—Å –∏ –ë—Ä–æ–Ω–∫—Å, –≥–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ–µ —Ü–µ–Ω—ã –Ω–∞ –∂–∏–ª—å–µ –∏ –µ—Å—Ç—å –±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –∑–∞—Å—Ç—Ä–æ–π–∫–∏. –í –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–µ –∏ —á–∞—Å—Ç—è—Ö –ë—Ä—É–∫–ª–∏–Ω–∞ —Ç–∞–∫–∏–µ –¥–æ–º–∞ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Ä–µ–∂–µ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –≤—ã—Å–æ–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–µ–º–ª–∏.

    –¶–µ–Ω—ã –Ω–∞ –¥–æ–º–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –º–æ–≥—É—Ç —Å–∏–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–º–∞, –∞ —Ç–∞–∫–∂–µ –æ—Ç –Ω–∞–ª–∏—á–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–¥–æ–±—Å—Ç–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –¥–≤–æ—Ä—ã –∏–ª–∏ –ø–∞—Ä–∫–æ–≤–æ—á–Ω—ã–µ –º–µ—Å—Ç–∞. –û–±—ã—á–Ω–æ —Ü–µ–Ω—ã –Ω–∞ –¥–æ–º–∞ –≤—ã—à–µ, —á–µ–º –Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã—Ö –∑–¥–∞–Ω–∏—è—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –±–æ–ª–µ–µ –ø—Ä–µ—Å—Ç–∏–∂–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö.            
                """)

    st.image('Photos/house.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è House')


    st.header("Condo (–ö–æ–Ω–¥–æ–º–∏–Ω–∏—É–º)")

    st.markdown("""
    –ù—å—é-–ô–æ—Ä–∫, –æ—Å–æ–±–µ–Ω–Ω–æ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω, –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –±—ã–ª –¥–æ–º–æ–º –¥–ª—è –±–µ–¥–Ω–µ–π—à–∏—Ö –∏–∑ –±–µ–¥–Ω—ã—Ö. –ü–æ –º–µ—Ä–µ —Ç–æ–≥–æ –∫–∞–∫ –≤ –≥–æ—Ä–æ–¥ –ø—Ä–∏–±—ã–≤–∞–ª–∏ –≤–æ–ª–Ω—ã –∏–º–º–∏–≥—Ä–∞–Ω—Ç–æ–≤ –∏ —Ä–æ—Å —Å—Ä–µ–¥–Ω–∏–π –∫–ª–∞—Å—Å, –º–Ω–æ–≥–∏–µ –ª—é–¥–∏ –ø–æ–∫–∏–¥–∞–ª–∏ –≥–æ—Ä–æ–¥ –∏ –ø–µ—Ä–µ–±–∏—Ä–∞–ª–∏—Å—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥—ã. –û—Å—Ç–∞–ª–∏—Å—å –ª–∏—à—å –∂–∏—Ç–µ–ª–∏ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞ —Å –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –ø—Ä–µ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –Ω–∏–∑–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –¥–æ—Ö–æ–¥–∞. –ù–æ —Å 80-—Ö –≥–æ–¥–æ–≤ –ø—Ä–æ—à–ª–æ–≥–æ –≤–µ–∫–∞ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω —Å—Ç–∞–ª –±—ã—Å—Ç—Ä–æ –æ–±–≥–æ–Ω—è—Ç—å –ø—Ä–∏–≥–æ—Ä–æ–¥—ã, –∞ –¥–æ—Ö–æ–¥—ã –º–µ—Å—Ç–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π —Ä–æ—Å–ª–∏ —Å –∫–∞–∂–¥—ã–º –≥–æ–¥–æ–º.

    –ö–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –Ω–∞—á–∞–ª–∏ –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –ù—å—é-–ô–æ—Ä–∫–µ –≤ 1960-—Ö –≥–æ–¥–∞—Ö –∏ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤—ã—Å–æ–∫–æ–π —Å—Ç–µ–ø–µ–Ω–∏ —Å–≤–æ–±–æ–¥—ã –ø–æ–∫—É–ø–∫–∏, –ø—Ä–æ–¥–∞–∂–∏ –∏ –∞—Ä–µ–Ω–¥—ã. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –ù—å—é-–ô–æ—Ä–∫ –≤–Ω–æ–≤—å —Å—Ç–∞–ª –≥–ª–æ–±–∞–ª—å–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º, –∞ –Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–∫–æ–ª–æ 35 % –Ω—å—é-–π–æ—Ä–∫—Å–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã, –Ω–µ—Å–æ–º–Ω–µ–Ω–Ω–æ, —è–≤–ª—è—é—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –≤—ã–±–æ—Ä–æ–º.

    –ü–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–æ–≤ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ, —á–µ–º –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä, –∞ —Ü–µ–Ω—ã –≥–æ—Ä–∞–∑–¥–æ –≤—ã—à–µ, —á—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤ –æ—Ö–æ—Ç–Ω–µ–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—Ç—å –∑–µ–º–ª—é –ø–æ –∑–∞–≤—ã—à–µ–Ω–Ω–æ–π —Ü–µ–Ω–µ, —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–π –∏ –≤—ã—Å–æ–∫–æ–¥–æ—Ö–æ–¥–Ω—ã–π –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º.

    –ö–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è –≤ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –∏–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –≤–ª–∞–¥–µ–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏ –ø—Ä–∞–≤–æ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –∞ –ø–ª–æ—â–∞–¥—å –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –æ–±—ã—á–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è/–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–ª–æ—â–∞–¥—å, –∞ –æ–±—â–∞—è –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –ø–ª–æ—â–∞–¥—å –æ—á–µ–Ω—å –º–∞–ª–∞, –æ–±—ã—á–Ω–æ –º–µ–Ω–µ–µ 1 %. –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–∞—Å—á–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø–ª–æ—â–∞–¥–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –º–µ—Ç–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≥–µ–æ–¥–µ–∑–∏—Å—Ç–æ–º –∏ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–º, –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–æ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –±–æ–ª—å—à–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞—Å—á–µ—Ç–æ–º —Ü–µ–Ω—Ç—Ä–∞ —Å—Ç–µ–Ω—ã –∏ —Ä–∞—Å—á–µ—Ç–æ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –ø–ª–æ—â–∞–¥–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞.
                """)
    
    st.image('Photos/condo.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Condo')


    st.header('Multi-family home (–ú–Ω–æ–≥–æ—Å–µ–º–µ–π–Ω—ã–π –¥–æ–º)')

    st.markdown("""
    –ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π –¥–æ–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É, –Ω–æ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–∫–æ–Ω–Ω—ã—Ö –∫—É—Ö–æ–Ω—å, –∏ –ø–æ –∑–∞–∫–æ–Ω—É –º–æ–∂–µ—Ç —Å–¥–∞–≤–∞—Ç—å—Å—è –≤ –∞—Ä–µ–Ω–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–µ–º—å—è–º.

    –ü–æ—Å–∫–æ–ª—å–∫—É –∑–¥–µ—Å—å –Ω–µ—Ç —Å–æ—Å–µ–¥—Å–∫–æ–π –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏, –¥–ª—è —Å–¥–∞—á–∏ –≤ –∞—Ä–µ–Ω–¥—É –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏–∫–∞–∫–∏—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ —Å–æ–≥–ª–∞—Å–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

    –í —Ü–µ–ª–æ–º, –∫–∞—á–µ—Å—Ç–≤–æ –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã—Ö –¥–æ–º–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∏–∂–µ, —á–µ–º –æ–¥–Ω–æ—Å–µ–º–µ–π–Ω—ã—Ö, –Ω–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤—ã—à–µ.
                """)
    
    st.image('Photos/multifamilyhome.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Multi-family home')


    st.header('Condop (–ö–æ–Ω–¥–æ–ø)')

    st.markdown("""
    Condop - —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è Condo –∏ Co-Op.

    Condop - —ç—Ç–æ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –Ω–∞ 1-3 —ç—Ç–∞–∂–∞—Ö, –∞ Co-Op - –∂–∏–ª—ã–µ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–∏—Ö —ç—Ç–∞–∂–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç Co-Op —Ç–µ–º, —á—Ç–æ Condop –æ–±—ã—á–Ω–æ –ø—Ä–æ–¥–∞—é—Ç—Å—è –∏ —Å–¥–∞—é—Ç—Å—è –≤ –∞—Ä–µ–Ω–¥—É –∫–∞–∫ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø—Ä–∏ –∞—Ä–µ–Ω–¥–µ –∏ –ø–æ–∫—É–ø–∫–µ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–æ–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ —Ç–∞–∫ –º–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –ø—Ä–∞–≤–∏–ª.

    –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –∏–º–µ—Ç—å –≤ –≤–∏–¥—É, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—è –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º, - —ç—Ç–æ —Ç–æ, —á—Ç–æ –ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –∑–µ–º–ª—é –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∏ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü—É. –ö–∞–∫ —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤—ã—à–µ, –∂–∏–ª–∞—è —á–∞—Å—Ç—å –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–∞ - —ç—Ç–æ CoOp, —Ç–æ –µ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏—è, –≤–ª–∞–¥–µ—é—â–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é, –Ω–æ —á–∞—Å—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è, –≤–ª–∞–¥–µ—é—â–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –≤ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–µ, –≤–ª–∞–¥–µ–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –Ω–∞–¥ –∑–µ–º–ª–µ–π, –∞ –∑–µ–º–ª—è –∞—Ä–µ–Ω–¥—É–µ—Ç—Å—è, —á—Ç–æ –º—ã –Ω–∞–∑—ã–≤–∞–µ–º –ª–µ–Ω–¥-–ª–∏–∑–æ–º. –ú–Ω–æ–≥–∏–µ –ª—é–¥–∏, –∫—É–ø–∏–≤—à–∏–µ –ö–æ–Ω–¥–æ–ø –≤ –ø—Ä–æ—à–ª–æ–º, —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å —Ä–∞—Å—Ç—É—â–∏–º–∏ –µ–∂–µ–º–µ—Å—è—á–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—à–µ, —á–µ–º —É –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º—É —Å–Ω–∏–∂–µ–Ω–∏—é —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±—Ä–µ–º–µ–Ω–µ–º.

    (–•–æ—Ç—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö –ª–µ–Ω–¥-–ª–∏–∑–∞ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–æ –≤ –ö–æ–Ω–¥–æ–ø–µ, –µ—Å—Ç—å –∏ —Ç–∞–∫–∏–µ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã, –≥–¥–µ –∑–µ–º–ª—è –∞—Ä–µ–Ω–¥—É–µ—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ –∏–º–µ–π—Ç–µ —ç—Ç–æ –≤ –≤–∏–¥—É).
                """)
    
    st.image('Photos/condop.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Condop')


    st.header('Townhouse (–¢–∞—É–Ω—Ö–∞—É—Å)')

    st.markdown("""
    –¢–∞—É–Ω—Ö–∞—É—Å—ã –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º—ã, –æ–¥–Ω–æ—Å–µ–º–µ–π–Ω—ã–µ –∏ –º–Ω–æ–≥–æ—Å–µ–º–µ–π–Ω—ã–µ.
    –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è

    –¢–∞—É–Ω—Ö–∞—É—Å –∫–æ–Ω–¥–æ - —ç—Ç–æ –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π –¥–æ–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–π —Ä–∞–∑–Ω—ã–º –≤–ª–∞–¥–µ–ª—å—Ü–∞–º, –∏ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ, –ø—Ä–æ–¥–∞–∂–µ –∏–ª–∏ —Å–¥–∞—á–µ –≤ –∞—Ä–µ–Ω–¥—É –æ–Ω —Å–ª–µ–¥—É–µ—Ç –æ–±—ã—á–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–∞.

    –û–¥–Ω–æ—Å–µ–º–µ–π–Ω—ã–π —Ç–∞—É–Ω—Ö–∞—É—Å - —ç—Ç–æ —Ü–µ–ª–æ–µ –∑–¥–∞–Ω–∏–µ, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –æ–¥–Ω–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É —Å –æ–¥–Ω–æ–π –∑–∞–∫–æ–Ω–Ω–æ–π –∫—É—Ö–Ω–µ–π. –ü—Ä–∏ –∞—Ä–µ–Ω–¥–µ –∏ –ø—Ä–æ–¥–∞–∂–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–¥–∞–≤–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–¥–µ—Å—å –Ω–µ—Ç —Å–æ–≤–µ—Ç–∞ —Å–æ—Å–µ–¥–µ–π, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–≥–ª–∞—Å–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

    –¢–∞—É–Ω—Ö–∞—É—Å Multi-Family –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É, –Ω–æ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–∫–æ–Ω–Ω—ã—Ö –∫—É—Ö–æ–Ω—å, –∏ –ø–æ –∑–∞–∫–æ–Ω—É –º–æ–∂–µ—Ç —Å–¥–∞–≤–∞—Ç—å—Å—è –≤ –∞—Ä–µ–Ω–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–µ–º—å—è–º. –í —Å–ª—É—á–∞–µ –∞—Ä–µ–Ω–¥—ã –∏ –ø—Ä–æ–¥–∞–∂–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ—Ç –∫–æ–º–∏—Ç–µ—Ç–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–æ–º–æ–º, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏–∫–∞–∫–∏—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ —Å–æ–≥–ª–∞—Å–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–æ–º–∞.
                """)
    
    st.image('Photos/townhouse.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Townhouse')


    st.header('Land (–ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫)')

    st.markdown("""
    –ó–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –æ—Å–æ–±—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –≥–æ—Ä–æ–¥–µ. –í–≤–∏–¥—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –≤—ã—Å–æ–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –∑–∞—Å—Ç—Ä–æ–π–∫–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –≤ –≥–æ—Ä–æ–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–¥–∫–∏–º–∏ –∏ —Ü–µ–Ω–Ω—ã–º–∏. –û–¥–Ω–∞–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è –∑–µ–º–ª–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –≤—Å–µ –∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö –∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≥–æ—Ä–æ–¥–∞.
                """)
    
    st.image('Photos/land.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è Land')














###------------------------------------------------------------------------------------------------------------------------------
### –ì–ª–∞–≤–Ω–æ–µ    
elif selected == "–ì–ª–∞–≤–Ω–æ–µ":
    st.header('–ü–µ—Ç-–ø—Ä–æ–µ–∫—Ç –ø–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—é —Ü–µ–Ω –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ù—å—é-–ô–æ—Ä–∫–µ –∏ –µ—ë –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏')
    st.markdown('–ê–≤—Ç–æ—Ä –ø–µ—Ç-–ø—Ä–æ–µ–∫—Ç–∞ <a href="https://github.com/000p1umDiesel" target="_blank">—Å—Å—ã–ª–∫–∞</a>', unsafe_allow_html=True)


    st.header('–í–≤–µ–¥–µ–Ω–∏–µ')
    st.write('–î–∞–Ω–Ω—ã–π –ø–µ—Ç-–ø—Ä–æ–µ–∫—Ç –ø–æ—Å–≤—è—â—ë–Ω –∞–Ω–∞–ª–∏–∑—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ —Å —Ü–µ–ª—å—é –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω –∏ –µ—ë –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤.')

    st.header('–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞')
    st.write('- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ù—å—é-–ô–æ—Ä–∫–µ.')
    st.write('- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º.')
    st.write('- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ü–µ–Ω—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –ø–æ –≤—ã–±—Ä–∞–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º')

    st.header('–≠—Ç–∞–ø—ã –ø—Ä–æ–µ–∫—Ç–∞')

    st.subheader('–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö')
    st.write('- –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.')

    st.subheader('–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (EDA)')
    st.write('- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.')
    st.write('- –ê–Ω–∞–ª–∏–∑ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –∏ —Ç—Ä–µ–Ω–¥–æ–≤.')

    st.subheader('–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω')
    st.write('- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.')
    st.write('- –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –æ—Ü–µ–Ω–∫–∞ –µ—ë –∫–∞—á–µ—Å—Ç–≤–∞.')

    st.subheader('–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')
    st.write('- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏.')
    st.write('- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤.')

    st.header('–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã')
    st.write('–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Streamlit.')














###------------------------------------------------------------------------------------------------------------------------------
### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å–æ —Å–≤–æ–±–æ–¥–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é
elif selected == '–ö–∞—Ä—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏':
    st.title('–ö–∞—Ä—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (100 –æ–±—ä–µ–∫—Ç–æ–≤)')

    df1 = pd.read_excel('X_example.xlsx')
    df1.drop('Unnamed: 0', axis=1, inplace=True)

    df2 = pd.read_csv('NY-House-Dataset.csv')
    df2 = df2[['LATITUDE', 'LONGITUDE']]

    df = df1.merge(df2, left_index=True, right_index=True)

    select_options = ['–í—Å–µ', 'Queens', 'New York', 'Kings', 'Richmond', 'Bronx']

    district = st.selectbox('–í—ã–±—Ä–∞—Ç—å —Ä–∞–π–æ–Ω –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏', select_options)

    my_map = folium.Map(location=[df['LATITUDE'].mean(), df['LONGITUDE'].mean()], zoom_start=10.5)

    icon_dict = {
        'Queens': ('blue', 'home'),
        'New York': ('red', 'home'),
        'Kings': ('green', 'home'),
        'Richmond': ('orange', 'home'),
        'Bronx': ('purple', 'info-home')
    }

    if district == '–í—Å–µ':
        for index, row in df.head(100).iterrows():
            folium.Marker(
                location=[row['LATITUDE'], row['LONGITUDE']],
                popup=f"–¶–µ–Ω–∞: {row['PRICE']}, –†–∞–π–æ–Ω: {row['District']}, –¢–∏–ø: {row['TYPE']}, –ü–ª–æ—â–∞–¥—å",
                icon=folium.Icon(color='gray', icon='home') 
            ).add_to(my_map)
    else:
        filtered_df = df[df['District'] == district]
        color, icon = icon_dict.get(district, ('gray', 'home')) 
        for index, row in filtered_df.head(100).iterrows():
            folium.Marker(
                location=[row['LATITUDE'], row['LONGITUDE']],
                popup=f"–¶–µ–Ω–∞: {row['PRICE']}, –†–∞–π–æ–Ω: {row['District']}, –¢–∏–ø: {row['TYPE']}, –ü–ª–æ—â–∞–¥—å",
                icon=folium.Icon(color=color, icon=icon)  
            ).add_to(my_map)

    st_folium(my_map, width=700, height=700, use_container_width=True)















###------------------------------------------------------------------------------------------------------------------------------
### –ü—Ä–æ –º–æ–¥–µ–ª–∏
elif selected == '–ú–æ–¥–µ–ª–∏':
    st.title('–ú–æ–¥–µ–ª–∏, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏')

    st.header('Catboost')
    st.subheader('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã')

    st.markdown("""
                - depth = 7
                - iterations = 500
                - learning rate = 0.1""")
    
    st.subheader('–ú–µ—Ç—Ä–∏–∫–∏')

    st.markdown("""
                - MAE = 469768.38
                - MSE 853486762537.58
                - r2 = 0.711
                """)
    
    st.header('K-Means')
    st.subheader('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã')

    st.markdown('- n_clusters = 4')

    st.subheader('–ú–µ—Ç—Ä–∏–∫–∏')

    st.markdown("""
                - Silhouette Score = 0.20
                - Davies-Bouldin Index = 1.77
                - Calinski-Harabasz Index = 1453.63
                """)















###------------------------------------------------------------------------------------------------------------------------------
### –ü—Ä–æ –ù—å—é-–ô–æ—Ä–∫ –∏ —Ä–∞–π–æ–Ω—ã
elif selected == '–ù—å—é –ô–æ—Ä–∫ –∏ –µ–≥–æ —Ä–∞–π–æ–Ω—ã':
    st.header('–ù—å—é –ô–æ—Ä–∫ –∏ –µ–≥–æ —Ä–∞–π–æ–Ω—ã')

    st.subheader('–ù—å—é –ô–æ—Ä–∫')

    st.markdown("""
    –ù—å—é-–ô–æ—Ä–∫ ‚Äî –∫—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–æ–¥ –°–®–ê, –≤—Ö–æ–¥—è—â–∏–π –≤ –æ–¥–Ω—É –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –∞–≥–ª–æ–º–µ—Ä–∞—Ü–∏–π –º–∏—Ä–∞. –ù–∞—Å–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 8 467 513 —á–µ–ª–æ–≤–µ–∫, –∞–≥–ª–æ–º–µ—Ä–∞—Ü–∏–∏ ‚Äî 19,77 –º–ª–Ω (–æ—Ü–µ–Ω–∫–∞ –Ω–∞ 2021 –≥–æ–¥). –ù—å—é-–ô–æ—Ä–∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ –±–µ—Ä–µ–≥—É –ê—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∫–µ–∞–Ω–∞ –≤ —é–≥–æ-–≤–æ—Å—Ç–æ—á–Ω–æ–π —á–∞—Å—Ç–∏ —à—Ç–∞—Ç–∞ –ù—å—é-–ô–æ—Ä–∫. –ì–æ—Ä–æ–¥ –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –≤ –Ω–∞—á–∞–ª–µ XVII –≤–µ–∫–∞ –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∏–º–∏ –∫–æ–ª–æ–Ω–∏—Å—Ç–∞–º–∏ –∏ –¥–æ 1664 –≥–æ–¥–∞ –Ω–∞–∑—ã–≤–∞–ª—Å—è –ù–æ–≤—ã–π –ê–º—Å—Ç–µ—Ä–¥–∞–º.
    –ù—å—é-–ô–æ—Ä–∫ –≤–∫–ª—é—á–∞–µ—Ç –ø—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–∫—Ä—É–≥–æ–≤ (—Ä–∞–π–æ–Ω–æ–≤, –±–æ—Ä–æ): –ë—Ä–æ–Ω–∫—Å, –ë—Ä—É–∫–ª–∏–Ω, –ö—É–∏–Ω—Å, –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω –∏ –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥. –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –±–æ—Ä–æ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω. –°—Ä–µ–¥–∏ –Ω–∏—Ö: –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –Ω–µ–±–æ—Å–∫—Ä—ë–±—ã (–≠–º–ø–∞–π—Ä-—Å—Ç–µ–π—Ç-–±–∏–ª–¥–∏–Ω–≥, –ö—Ä–∞–π—Å–ª–µ—Ä-–±–∏–ª–¥–∏–Ω–≥), –†–æ–∫—Ñ–µ–ª–ª–µ—Ä–æ–≤—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä, –í—É–ª–≤–æ—Ä—Ç-–±–∏–ª–¥–∏–Ω–≥, —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω-–º—É–∑–µ–π, –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω-–æ–ø–µ—Ä–∞, –ö–∞—Ä–Ω–µ–≥–∏-—Ö–æ–ª–ª, –ú—É–∑–µ–π –°–æ–ª–æ–º–æ–Ω–∞ –ì—É–≥–≥–µ–Ω—Ö–µ–π–º–∞ (–∂–∏–≤–æ–ø–∏—Å—å), –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –º—É–∑–µ–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (—Å–∫–µ–ª–µ—Ç—ã –¥–∏–Ω–æ–∑–∞–≤—Ä–æ–≤ –∏ –ø–ª–∞–Ω–µ—Ç–∞—Ä–∏–π), –æ—Ç–µ–ª—å ¬´–ü–ª–∞–∑–∞¬ª, –æ—Ç–µ–ª—å ¬´–£–æ–ª–¥–æ—Ä—Ñ-–ê—Å—Ç–æ—Ä–∏—è¬ª, –æ—Ç–µ–ª—å ¬´–ß–µ–ª—Å–∏¬ª, —à—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–∞ –û–û–ù, –ì–∞—Ä–ª–µ–º.
    –ù—å—é-–ô–æ—Ä–∫ ‚Äî –≤–∞–∂–Ω—ã–π –º–∏—Ä–æ–≤–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π, –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Ü–µ–Ω—Ç—Ä.
    """)

    st.image('Photos/new_york.jpg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ù—å—é-–ô–æ—Ä–∫')

    st.subheader('–ë—Ä–æ–Ω–∫—Å')

    st.markdown("""
    –ë—Ä–æ–Ω–∫—Å ‚Äî –æ–¥–Ω–æ –∏–∑ –ø—è—Ç–∏ –±–æ—Ä–æ –ù—å—é-–ô–æ—Ä–∫–∞, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—å—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ —Å—É—à–∏, –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∞—Ä—Ç–∏–∫–ª–µ–º –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –Ω–∞–∑–≤–∞–Ω–∏–∏.

    –ü–æ—á—Ç–∏ –≤—Å—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –ë—Ä–æ–Ω–∫—Å–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –°–®–ê. –ë—Ä–æ–Ω–∫—Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ —Å–µ–≤–µ—Ä–µ –≥–æ—Ä–æ–¥–∞, –æ—Ç –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞ –µ–≥–æ –æ—Ç–¥–µ–ª—è–µ—Ç –ø—Ä–æ–ª–∏–≤ –•–∞—Ä–ª–µ–º, –æ—Ç –ö—É–∏–Ω—Å–∞ ‚Äî –ò—Å—Ç-–†–∏–≤–µ—Ä. –†–µ–∫–∞ –ì—É–¥–∑–æ–Ω –æ—Ç–¥–µ–ª—è–µ—Ç –ë—Ä–æ–Ω–∫—Å –æ—Ç –±–æ—Ä–æ –ê–ª–ø–∞–π–Ω, –¢–µ–Ω–∞—Ñ–ª–∞–π –∏ –ò–Ω–≥–ª–≤—É–¥-–ö–ª–∏—Ñ—Ñ—Å –≤ –æ–∫—Ä—É–≥–µ –ë–µ—Ä–≥–µ–Ω —à—Ç–∞—Ç–∞ –ù—å—é-–î–∂–µ—Ä—Å–∏. –ü—Ä–æ–ª–∏–≤–æ–º –õ–æ–Ω–≥-–ê–π–ª–µ–Ω–¥ –ë—Ä–æ–Ω–∫—Å –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è –æ—Ç –æ–∫—Ä—É–≥–∞ –ù–∞—Å—Å–æ. –ö —Å–µ–≤–µ—Ä—É –æ—Ç –ë—Ä–æ–Ω–∫—Å–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø—Ä–∏–≥–æ—Ä–æ–¥—ã –ù—å—é-–ô–æ—Ä–∫–∞ –ô–æ–Ω–∫–µ—Ä—Å, –ú–∞—É–Ω—Ç-–í–µ—Ä–Ω–æ–Ω, –ü–µ–ª–µ–º-–ú–∞–Ω–æ—Ä –∏ –ù—å—é-–†–æ—à–µ–ª–ª. –ù–∞ —é–≥–µ –ë—Ä–æ–Ω–∫—Å–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Ä–∞–π–æ–Ω –ú–∞—Ä–±–ª-–•–∏–ª–ª, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –±–æ—Ä–æ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω, –æ–¥–Ω–∞–∫–æ –µ–≥–æ ZIP- –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∫–æ–¥—ã –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –ë—Ä–æ–Ω–∫—Å—É.
    –°–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–∫–∞ –ë—Ä–æ–Ω–∫—Å–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞ –µ–≥–æ —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–µ –≤ –í–∞–Ω-–ö–æ—Ä—Ç–ª–∞–Ω–¥—Ç-–ø–∞—Ä–∫–µ. –ï—ë –≤—ã—Å–æ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 85 –º–µ—Ç—Ä–æ–≤.
    """)

    st.image('Photos/bronx.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ë—Ä–æ–Ω–∫—Å')

    st.subheader('–ë—Ä—É–∫–ª–∏–Ω')

    st.markdown("""
    –ë—Ä—É–∫–ª–∏–Ω ‚Äî –≤—Ç–æ—Ä–æ–π –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Ä–∞–π–æ–Ω –≤ –ù—å—é-–ô–æ—Ä–∫–µ –ø–æ—Å–ª–µ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∂–∏–≤–∞–µ—Ç 2,5 –º–∏–ª–ª–∏–æ–Ω–∞ —á–µ–ª–æ–≤–µ–∫, –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ç–µ—Ç ‚Äî –æ—Ç —Å–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö –≥—Ä–∞–∂–¥–∞–Ω, –ø–æ–¥—ã—Å–∫–∏–≤–∞—é—â–∏—Ö –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Å–æ–±–Ω—è–∫–∏ –≤ –ö—ç—Ä—Ä–æ–ª–ª –ì–∞—Ä–¥–µ–Ω—Å (Carroll Gardens), –¥–æ –º–æ–ª–æ–¥—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø, —Å–æ–±–ª–∞–∑–Ω–µ–Ω–Ω—ã—Ö –¥–µ—à–µ–≤–æ–π –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç–æ–π –≤ –í–∏–ª—å—è–º—Å–±—É—Ä–≥–µ (Williamsburg). –ü–æ –º–Ω–µ–Ω–∏—é –º–Ω–æ–≥–∏—Ö, —ç—Ç–æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã–π –≥–æ—Ä–æ–¥—Å–∫–æ–π —Ä–∞–π–æ–Ω —Å —Å–∞–º–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ–ª–≥–æ –±—ã–ª –ø—Ä–µ–µ–º–Ω–∏–∫–æ–º –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞ –ø–æ —á–∞—Å—Ç–∏ –∫—Ä—É—Ç–∏–∑–Ω—ã –∏ –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏ –¥–ª—è –∂–∏–ª—å—è. –û—Ç –ø–µ—Å—á–∞–Ω—ã—Ö –ø–ª—è–∂–µ–π –∏ –∑–æ–≤—É—â–∏—Ö –∫ –±–µ–∑–∑–∞–±–æ—Ç–Ω–æ–º—É –ø—Ä–æ–º–µ–Ω–∞–¥—É —Ç—Ä–æ—Ç—É–∞—Ä–æ–≤ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –¥–æ –≥—É—Ä–º–∞–Ω—Å–∫–∏—Ö –∫–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—á–∏–∫–æ–≤ —Å –¥—Ä—É–≥–æ–π, –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç—Ç–Ω–∏—á–µ—Å–∫–∏—Ö –∫–≤–∞—Ä—Ç–∞–ª–æ–≤, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π –º–∏—Ä–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –Ω–µ—Å–∫–æ–Ω—á–∞–µ–º—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤, –ë—Ä—É–∫–ª–∏–Ω —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω—É.
    """)

    st.image('Photos/brooklyn.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ë—Ä—É–∫–ª–∏–Ω')

    st.subheader('–ö—É–∏–Ω—Å')

    st.markdown("""
    –ö—É–∏–Ω—Å ‚Äî —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ (280 –∫–º¬≤) –∏ –≤—Ç–æ—Ä–æ–µ –ø–æ –Ω–∞—Å–µ–ª–µ–Ω–∏—é –ø–æ—Å–ª–µ –ë—Ä—É–∫–ª–∏–Ω–∞ –±–æ—Ä–æ –ù—å—é-–ô–æ—Ä–∫–∞. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –õ–æ–Ω–≥-–ê–π–ª–µ–Ω–¥ –∏ –æ–º—ã–≤–∞–µ—Ç—Å—è –ê—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –æ–∫–µ–∞–Ω–æ–º. –≠—Ç–æ —Å–∞–º–∞—è –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–∞—è –ø–æ —ç—Ç–Ω–∏—á–µ—Å–∫–æ–º—É —Å–æ—Å—Ç–∞–≤—É —á–∞—Å—Ç—å –≥–æ—Ä–æ–¥–∞.
    
    –í –ö—É–∏–Ω—Å–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –∞—ç—Ä–æ–ø–æ—Ä—Ç –∏–º–µ–Ω–∏ –î–∂–æ–Ω–∞ –ö–µ–Ω–Ω–µ–¥–∏, –∞ —Ç–∞–∫–∂–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç ¬´–õ–∞-–ì—É–∞—Ä–¥–∏—è¬ª. –í –ö—É–∏–Ω—Å–µ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è –±–µ–π—Å–±–æ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ ¬´–ù—å—é-–ô–æ—Ä–∫ –ú–µ—Ç—Å¬ª, –ø—Ä–æ—Ö–æ–¥–∏—Ç –û—Ç–∫—Ä—ã—Ç—ã–π —á–µ–º–ø–∏–æ–Ω–∞—Ç –°–®–ê –ø–æ —Ç–µ–Ω–Ω–∏—Å—É.
    
    –ü–æ –æ–±–∑–æ—Ä–∞–º –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞, —Å 2005 –≥–æ–¥–∞ –∏–º–º–∏–≥—Ä–∞–Ω—Ç—ã —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç 47,6 % –∂–∏—Ç–µ–ª–µ–π –ö—É–∏–Ω—Å–∞. –° –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º –≤ 2,3 –º–∏–ª–ª–∏–æ–Ω–∞ —á–µ–ª–æ–≤–µ–∫ —ç—Ç–æ –≤—Ç–æ—Ä–æ–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∂–∏—Ç–µ–ª–µ–π –æ–∫—Ä—É–≥ –ù—å—é-–ô–æ—Ä–∫–∞ (–ø–æ—Å–ª–µ –ë—Ä—É–∫–ª–∏–Ω–∞) –∏ 10-–π –ø–æ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –æ–∫—Ä—É–≥ –≤ –°–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –®—Ç–∞—Ç–∞—Ö. –ï—Å–ª–∏ –±—ã –∫–∞–∂–¥—ã–π —Ä–∞–π–æ–Ω –ù—å—é-–ô–æ—Ä–∫–∞ —Å—Ç–∞–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –≥–æ—Ä–æ–¥–æ–º, —Ç–æ –ë—Ä—É–∫–ª–∏–Ω –∏ –ö—É–∏–Ω—Å —Å—Ç–∞–ª–∏ –±—ã —Ç—Ä–µ—Ç—å–∏–º –∏ —á–µ—Ç–≤—ë—Ä—Ç—ã–º –≥–æ—Ä–æ–¥–∞–º–∏ –ø–æ —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –≤ –°–®–ê, —É—Å—Ç—É–ø–∞—è –õ–æ—Å-–ê–Ω–¥–∂–µ–ª–µ—Å—É –∏ –ß–∏–∫–∞–≥–æ.

    –†–∞–π–æ–Ω —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –±–æ–ª–µ–µ ¬´–ø—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã—Ö¬ª —Ä–∞–π–æ–Ω–æ–≤ –ù—å—é-–ô–æ—Ä–∫–∞, –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏ –≤ –≤–æ—Å—Ç–æ—á–Ω–æ–º –ö—É–∏–Ω—Å–µ –±–æ–ª—å—à–µ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏ –æ–∫—Ä—É–≥–∞ –ù–∞—Å—Å–∞—É –≤ —à—Ç–∞—Ç–µ –ù—å—é-–ô–æ—Ä–∫ –≤ —Å–≤–æ–µ–π —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–Ω–æ–π —á–∞—Å—Ç–∏. –í –±–æ—Ä–æ –∏–º–µ–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–ª–æ–≤—ã—Ö –∫–≤–∞—Ä—Ç–∞–ª–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –õ–æ–Ω–≥-–ê–π–ª–µ–Ω–¥-–°–∏—Ç–∏ –Ω–∞ –±–µ—Ä–µ–≥–æ–≤–æ–π –ª–∏–Ω–∏–∏ –ö—É–∏–Ω—Å–∞ –Ω–∞–ø—Ä–æ—Ç–∏–≤ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞.
    """)

    st.image('Photos/queens.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ö—É–∏–Ω—Å')

    st.subheader('–°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥')

    st.markdown("""
    –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥ ‚Äî –æ–¥–Ω–æ –∏–∑ –ø—è—Ç–∏ –±–æ—Ä–æ –ù—å—é-–ô–æ—Ä–∫–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –°—Ç–∞—Ç–µ–Ω. –ù–∞–∏–±–æ–ª–µ–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ —É–¥–∞–ª—ë–Ω–Ω—ã–π –∏ –Ω–∞–∏–º–µ–Ω–µ–µ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–π –∏–∑ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–∫—Ä—É–≥–æ–≤ –ù—å—é-–ô–æ—Ä–∫–∞. –°–∞–º–∞—è —é–∂–Ω–∞—è —á–∞—Å—Ç—å —à—Ç–∞—Ç–∞ –ù—å—é-–ô–æ—Ä–∫. –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–∫—Ä—É–≥–æ–º –†–∏—á–º–æ–Ω–¥ –∏ –ø–æ—ç—Ç–æ–º—É –≤–ø–ª–æ—Ç—å –¥–æ 1975 –≥–æ–¥–∞ —Ä–∞–π–æ–Ω –Ω–∞–∑—ã–≤–∞–ª—Å—è –†–∏—á–º–æ–Ω–¥. –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥ —Å—Ç–∞–ª –±–æ—Ä–æ –ù—å—é-–ô–æ—Ä–∫–∞ –≤ 1898 –≥–æ–¥—É.
    
    –ù–∞ –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥–µ —Å 1947 –≥–æ–¥–∞ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –≥–æ—Ä–æ–¥—Å–∫–∞—è —Å–≤–∞–ª–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–∫—Ä—ã–ª–∞—Å—å –ª–∏—à—å –≤ 2001 –≥–æ–¥—É. –°–µ–π—á–∞—Å –≤–µ–¥—É—Ç—Å—è —Ä–∞–±–æ—Ç—ã –ø–æ —Ä–µ–∫—É–ª—å—Ç–∏–≤–∞—Ü–∏–∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–æ–Ω –æ—Ç–¥—ã—Ö–∞ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π.

    –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´—Å–ø–∞–ª—å–Ω—ã–º¬ª —Ä–∞–π–æ–Ω–æ–º –ù—å—é-–ô–æ—Ä–∫–∞. –ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞–π–æ–Ω–∞–º–∏ (–ë—Ä–æ–Ω–∫—Å–æ–º, –ë—Ä—É–∫–ª–∏–Ω–æ–º, –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–æ–º –∏ –ö—É–∏–Ω—Å–æ–º), –∂–∏–∑–Ω—å –∑–¥–µ—Å—å —Å–ø–æ–∫–æ–π–Ω–µ–µ: –¥–æ 1960 –≥–æ–¥–∞ –≤ —é–∂–Ω–æ–π —á–∞—Å—Ç–∏ –æ—Å—Ç—Ä–æ–≤–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª–∏—Å—å —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–µ —Ö–æ–∑—è–π—Å—Ç–≤–∞. –ü–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ –º–æ—Å—Ç–∞ –í–µ—Ä—Ä–∞—Ü–∞–Ω–æ, —Å–≤—è–∑–∞–≤—à–µ–≥–æ –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥ —Å –ë—Ä—É–∫–ª–∏–Ω–æ–º, –Ω–∞—á–∞–ª–æ—Å—å –µ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –∑–∞—Å–µ–ª–µ–Ω–∏–µ. –ù–∞ —É–ª–∏—Ü–∞—Ö —Å—Ç–∞–ª–æ –±–æ–ª—å—à–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –¥–æ—Ä–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–æ–∫, –∞–≤–∞—Ä–∏–π –∏ –¥–æ—Ä–æ–∂–Ω—ã—Ö —Ä–∞–±–æ—Ç. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Ä–∞–π–æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–ª—è –≥–æ—Ä–æ–∂–∞–Ω, –æ—Å–æ–±–µ–Ω–Ω–æ —Ä—É—Å—Å–∫–æ–≥–æ–≤–æ—Ä—è—â–∏—Ö, –∫–æ—Ç–æ—Ä—ã—Ö –∑–¥–µ—Å—å –Ω–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–æ 20 %.

    –û –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –Ω—é–∞–Ω—Å–∞—Ö –∂–∏–∑–Ω–∏ –Ω–∞ —ç—Ç–æ–º –æ—Å—Ç—Ä–æ–≤–µ –≤ 2009 –≥–æ–¥—É —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º –î–∂–µ–π–º—Å–æ–º –î–µ–ú–æ–Ω–∞–∫–æ –±—ã–ª —Å–Ω—è—Ç —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∏–ª—å–º ¬´–°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥¬ª (–∞–Ω–≥–ª. Staten Island).
    """)

    st.image('Photos/staten_island.jpeg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –°—Ç–∞—Ç–µ–Ω-–ê–π–ª–µ–Ω–¥')


    st.subheader('–ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω')

    st.markdown("""
    –ú–∞–Ω—Ö—çÃÅ—Ç—Ç–µ–Ω ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ –≥–æ—Ä–æ–¥–∞ –ù—å—é-–ô–æ—Ä–∫–∞ –∏ –æ–¥–Ω–æ –∏–∑ –µ–≥–æ –ø—è—Ç–∏ –±–æ—Ä–æ. –ö—Ä–æ–º–µ –æ—Å—Ç—Ä–æ–≤–∞ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω, –±–æ—Ä–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–±–æ–ª—å—à–∏—Ö –æ—Å—Ç—Ä–æ–≤–æ–≤ (—Å–º. –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω–∞).
    –ü–ª–æ—â–∞–¥—å –æ–∫—Ä—É–≥–∞ –ù—å—é-–ô–æ—Ä–∫, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤—Ö–æ–¥–∏—Ç –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω ‚Äî 59,47 –∫–º¬≤. –ü–ª–æ—â–∞–¥—å –∂–µ –æ—Å—Ç—Ä–æ–≤–∞ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 58,8 –∫–º¬≤, –∞ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ ‚Äî 1,619 –º–∏–ª–ª–∏–æ–Ω–∞ —á–µ–ª–æ–≤–µ–∫ (–ø–æ –¥–∞–Ω–Ω—ã–º –Ω–∞ 2012 –≥–æ–¥). –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏ —Å–∞–º—ã–π –≥—É—Å—Ç–æ–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–π –∏–∑ –æ–∫—Ä—É–≥–æ–≤ –°–®–ê.
    –í –±–æ—Ä–æ –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤—ã—Å–æ—á–∞–π—à–∏–µ –Ω–µ–±–æ—Å–∫—Ä—ë–±—ã, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –í—Å–µ–º–∏—Ä–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä 1, –≠–º–ø–∞–π—Ä-—Å—Ç–µ–π—Ç-–±–∏–ª–¥–∏–Ω–≥, –ö—Ä–∞–π—Å–ª–µ—Ä-–±–∏–ª–¥–∏–Ω–≥, –í—É–ª–≤–æ—Ä—Ç-–±–∏–ª–¥–∏–Ω–≥, –ú–µ—Ç–ª–∞–π—Ñ-—Ç–∞—É—ç—Ä, –£–æ–ª–ª-—Å—Ç—Ä–∏—Ç, 40, –†–æ–∫—Ñ–µ–ª–ª–µ—Ä–æ–≤—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä.
    """)

    st.image('Photos/manhattan.jpg', caption = '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω')














###------------------------------------------------------------------------------------------------------------------------------
### –ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞
elif selected == '–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞':

    st.header('–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ù—å—é-–ô–æ—Ä–∫–∞')

    st.markdown("""
    –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ, –∞–Ω–∞–ª–∏–∑ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —à–∞–≥–æ–º –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –¶–µ–Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞.

    –ü–µ—Ä–≤—ã–º –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–º —Ñ–∞–∫—Ç–æ—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –í –ù—å—é-–ô–æ—Ä–∫–µ –∫–∞–∂–¥—ã–π —Ä–∞–π–æ–Ω –∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –æ—Ç—Ä–∞–∂–∞—é—â–∏–µ—Å—è –≤ —Ü–µ–Ω–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –†–∞–π–æ–Ω—ã —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –±–ª–∏–∑–æ—Å—Ç—å—é –∫ –¥–µ–ª–æ–≤—ã–º —Ü–µ–Ω—Ç—Ä–∞–º –∏ —Ö–æ—Ä–æ—à–∏–º–∏ —à–∫–æ–ª–∞–º–∏ –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã, —á–µ–º –±–æ–ª–µ–µ —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Ä–∞–π–æ–Ω—ã –∏–ª–∏ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø—ã—Ç—ã–≤–∞—é—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–ª–∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

    –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —Ç–∞–∫–∂–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ü–µ–Ω—É. –ö–≤–∞—Ä—Ç–∏—Ä—ã –≤ –º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã—Ö –¥–æ–º–∞—Ö, —Ç–∞—É–Ω—Ö–∞—É—Å—ã, —á–∞—Å—Ç–Ω—ã–µ –¥–æ–º–∞ ‚Äî –∫–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ –∏–º–µ–µ—Ç —Å–≤–æ–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å. –ö–≤–∞—Ä—Ç–∏—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞—Å—Ç–æ –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Ü–µ–Ω–µ, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –ø–ª–∞—Ç—ã –∑–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –¥–æ–º–∞–º–∏.

    –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º. –í–Ω–∏–∑—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è —Å–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤–∞–º –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä—ã–Ω–∫–∞ –∏ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä.
    """)

    def fast_kmeans():

        data = pd.read_excel('X_example.xlsx').drop('Unnamed: 0', axis=1)
        data = pd.get_dummies(data, columns=['District', 'TYPE'], drop_first=True, prefix=None)
        temp_data = pd.read_excel('X_example.xlsx').drop('Unnamed: 0', axis=1)

        temp_data = temp_data[['TYPE', 'District', 'Close to the sights']]

        model_kmeans = joblib.load('Kmeans.pkl')
        clusters = model_kmeans.predict(data)

        data['cluster'] = clusters

        mean_df = data.groupby('cluster').mean()
        elite_category_kmeans = mean_df['PRICE'].idxmax()
        economic_category_kmeans = mean_df['PRICE'].idxmin()
        comfort_category_kmeans = mean_df[mean_df['PRICE'] > mean_df['PRICE'].loc[economic_category_kmeans]].idxmin()['PRICE']
        business_category_kmeans = mean_df[mean_df['PRICE'] < mean_df['PRICE'].loc[elite_category_kmeans]].idxmax()['PRICE']
        data['–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏'] = data['cluster'].map({
            elite_category_kmeans: '–≠–ª–∏—Ç–Ω—ã–π',
            economic_category_kmeans: '–≠–∫–æ–Ω–æ–º',
            comfort_category_kmeans: '–ö–æ–º—Ñ–æ—Ä—Ç',
            business_category_kmeans: '–ë–∏–∑–Ω–µ—Å'
        })


        data = data[['PRICE', 'BEDS', 'BATH', 'PROPERTYSQFT', '–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏']]
        data = data.merge(temp_data[['TYPE', 'District', 'Close to the sights']], left_index=True, right_index=True)

        return data
    
    data = fast_kmeans()


### –í–∏–∑—É–∞–ª 
    fig = px.pie(
        data.groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].count().reset_index().rename(columns={'PRICE' : '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤'}),
        names='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º', values='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)

    fig = px.pie(
        data.groupby('TYPE')['PRICE'].count().reset_index().rename(columns={'PRICE' : '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤'}),
        names='TYPE', values='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤', title = '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ø–æ –≤–∏–¥–∞–º')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    st.subheader('–ù—å—é-–ô–æ—Ä–∫')

    fig = px.bar(data[data['District'] == 'New York'].groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].mean().reset_index(),
        x='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', y='PRICE',color='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ù—å—é-–ô–æ—Ä–∫–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    fig = px.bar(data[data['District'] == 'New York'].groupby('TYPE')['PRICE'].mean().reset_index(),
        x='TYPE', y='PRICE', color='TYPE', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ù—å—é-–ô–æ—Ä–∫–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∏–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    st.subheader('–ë—Ä–æ–Ω–∫—Å')

    fig = px.bar(data[data['District'] == 'Bronx'].groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].mean().reset_index(),
        x='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', y='PRICE',color='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ë—Ä–æ–Ω–∫—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)

    fig = px.bar(data[data['District'] == 'Bronx'].groupby('TYPE')['PRICE'].mean().reset_index(),
        x='TYPE', y='PRICE',color='TYPE', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ë—Ä–æ–Ω–∫—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∏–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    st.subheader('–ö–∏–Ω–≥—Å')

    fig = px.bar(data[data['District'] == 'Kings'].groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].mean().reset_index(),
        x='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', y='PRICE',color='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ö–∏–Ω–≥—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)

    fig = px.bar(data[data['District'] == 'Kings'].groupby('TYPE')['PRICE'].mean().reset_index(),
        x='TYPE', y='PRICE',color='TYPE', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ö–∏–Ω–≥—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∏–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    st.subheader('–†–∏—á–º–æ–Ω–¥')

    fig = px.bar(data[data['District'] == 'Richmond'].groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].mean().reset_index(),
        x='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', y='PRICE',color='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –†–∏—á–º–æ–Ω–¥–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)

    fig = px.bar(data[data['District'] == 'Richmond'].groupby('TYPE')['PRICE'].mean().reset_index(),
        x='TYPE', y='PRICE',color='TYPE', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –†–∏—á–º–æ–Ω–¥–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∏–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)


    st.subheader('–ö—É–∏–Ω—Å')

    fig = px.bar(data[data['District'] == 'Queens'].groupby('–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')['PRICE'].mean().reset_index(),
        x='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', y='PRICE',color='–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ö—É–∏–Ω—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)

    fig = px.bar(data[data['District'] == 'Queens'].groupby('TYPE')['PRICE'].mean().reset_index(),
        x='TYPE', y='PRICE',color='TYPE', title = '–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ö—É–∏–Ω—Å–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∏–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')

    st.plotly_chart(fig, theme='streamlit', use_container_width=True)














###------------------------------------------------------------------------------------------------------------------------------
### –ü–æ–¥–±–æ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã 
elif selected == '–ü–æ–¥–æ–±—Ä–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å':
    st.header('–ü–æ–¥–±–æ—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤')

    def fast_kmeans():

        data = pd.read_excel('X_example.xlsx').drop('Unnamed: 0', axis=1)
        data = pd.get_dummies(data, columns=['District', 'TYPE'], drop_first=True, prefix=None)
        temp_data = pd.read_excel('X_example.xlsx').drop('Unnamed: 0', axis=1)
        coordinates = pd.read_csv('NY-House-Dataset.csv')
        coordinates = coordinates[['LATITUDE', 'LONGITUDE']]

        temp_data = temp_data[['TYPE', 'District', 'Close to the sights']]

        model_kmeans = joblib.load('Kmeans.pkl')
        clusters = model_kmeans.predict(data)

        data['cluster'] = clusters

        mean_df = data.groupby('cluster').mean()
        elite_category_kmeans = mean_df['PRICE'].idxmax()
        economic_category_kmeans = mean_df['PRICE'].idxmin()
        comfort_category_kmeans = mean_df[mean_df['PRICE'] > mean_df['PRICE'].loc[economic_category_kmeans]].idxmin()['PRICE']
        business_category_kmeans = mean_df[mean_df['PRICE'] < mean_df['PRICE'].loc[elite_category_kmeans]].idxmax()['PRICE']
        data['–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏'] = data['cluster'].map({
            elite_category_kmeans: '–≠–ª–∏—Ç–Ω—ã–π',
            economic_category_kmeans: '–≠–∫–æ–Ω–æ–º',
            comfort_category_kmeans: '–ö–æ–º—Ñ–æ—Ä—Ç',
            business_category_kmeans: '–ë–∏–∑–Ω–µ—Å'
        })


        data = data[['PRICE', 'BEDS', 'BATH', 'PROPERTYSQFT', '–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏']]
        data = data.merge(temp_data[['TYPE', 'District', 'Close to the sights']], left_index=True, right_index=True)
        data = data.merge(coordinates, left_index=True, right_index=True)

        return data

    def user_input_features():
        type_options = ['–õ—é–±–æ–π', 'Co-op', 'House', 'Condo', 'Multi-family home', 'Condop', 'Townhouse', 'Land']
        district_options = ['–õ—é–±–æ–π', 'Queens', 'New York', 'Kings', 'Richmond', 'Bronx']
        class_options = ['–õ—é–±–æ–π', '–≠–∫–æ–Ω–æ–º', '–ö–æ–º—Ñ–æ—Ä—Ç', '–ë–∏–∑–Ω–µ—Å', '–≠–ª–∏—Ç–Ω—ã–π']
        close_to_sights_options = ['–õ—é–±–æ–π', '–î–∞', '–ù–µ—Ç']

        type = st.selectbox('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–º–∞', type_options)
        
        if type == 'Land':
            district = st.selectbox('–†–∞–π–æ–Ω', district_options)
            close_to_sights = st.selectbox('–ë–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º', close_to_sights_options)
            close_to_sights = None if close_to_sights == '–õ—é–±–æ–π' else (1 if close_to_sights == '–î–∞' else 0)
            class_estate = st.selectbox('–ö–ª–∞—Å—Å', class_options)
            price = st.slider('–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É', min_value=0, max_value=15000000, step=1000)
            sqft = sqft = st.number_input('–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–ª–æ—â–∞–¥–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö', step=1, min_value=950, max_value=9999)

            return price, None, None, sqft, district, close_to_sights, class_estate, type

        else:
            price = st.slider('–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É', min_value=0, max_value=15000000, step=1000)
            bed = st.number_input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª—å–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç', step=1, min_value=1, max_value=100)
            bath = st.number_input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç', step=1, min_value=1, max_value=100)
            sqft = st.number_input('–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–ª–æ—â–∞–¥–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö', step=1, min_value=20, max_value=9999)
            district = st.selectbox('–†–∞–π–æ–Ω', district_options)
            class_estate = st.selectbox('–ö–ª–∞—Å—Å', class_options)
            close_to_sights = st.selectbox('–ë–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º', close_to_sights_options)
            close_to_sights = None if close_to_sights == '–õ—é–±–æ–π' else (1 if close_to_sights == '–î–∞' else 0)
        
            return price, bed, bath, sqft, district, close_to_sights, class_estate, type

    price, bed, bath, sqft, district, close_to_sights, class_estate, type = user_input_features()

    data = fast_kmeans()

    if type != 'Land':
        min_sqft = sqft * 0.9  # –ù–∏–∂–Ω–∏–π –ø—Ä–µ–¥–µ–ª - 90% –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è sqft
        max_sqft = sqft  # –í–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª - –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ sqft
        condition = (data['BEDS'] == bed) & \
                    (data['BATH'] == bath) & \
                    ((data['PROPERTYSQFT'] >= min_sqft) & (data['PROPERTYSQFT'] <= max_sqft)) & \
                    (data['PRICE'] <= price)
                    
        if class_estate != '–õ—é–±–æ–π':
            condition &= (data['–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏'] == class_estate)
        
        if type != '–õ—é–±–æ–π':
            condition &= (data['TYPE'] == type)
        
        if district != '–õ—é–±–æ–π':
            condition &= (data['District'] == district)

        if close_to_sights is not None: 
            condition &= (data['Close to the sights'] == close_to_sights)

        similar_rows = data.loc[condition]

    else:

        condition = (data['PRICE'] <= price)
    
        if type != '–õ—é–±–æ–π':
            condition &= (data['TYPE'] == type)

        if class_estate != '–õ—é–±–æ–π':
            condition &= (data['–ö–ª–∞—Å—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏'] == class_estate)

        if district != '–õ—é–±–æ–π':
            condition &= (data['District'] == district)

        if close_to_sights is not None: 
            condition &= (data['Close to the sights'] == close_to_sights)
        
        similar_rows = data.loc[condition]
        similar_rows = similar_rows.drop(['BEDS', 'BATH'], axis = 1)

    if not similar_rows.empty:
        my_map = folium.Map(location=[similar_rows['LATITUDE'].mean(), similar_rows['LONGITUDE'].mean()], zoom_start=10.5)

        for index, row in similar_rows.head(100).iterrows():
            popup = f"–¶–µ–Ω–∞: {row['PRICE']}, –†–∞–π–æ–Ω: {row['District']}, –¢–∏–ø: {row['TYPE']}"
            folium.Marker(
                location=[row['LATITUDE'], row['LONGITUDE']],
                popup=popup,
                icon=folium.Icon(color='green', icon='home')
            ).add_to(my_map)

        similar_rows = similar_rows.drop(['LATITUDE', 'LONGITUDE'], axis = 1)
        similar_rows['Close to the sights'] = similar_rows['Close to the sights'].map({1: '–î–∞', 0: '–ù–µ—Ç'})
        similar_rows = similar_rows.reset_index().drop('index', axis =1)
        
        similar_rows = similar_rows.rename(columns = {'PRICE' : '–¶–µ–Ω–∞', 'BEDS' : '–ö–æ–ª-–≤–æ —Å–ø–∞–ª—å–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç',
                                                      'BATH' : '–ö–æ–ª-–≤–æ –≤–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç', 'PROPERTYSQFT' : '–ü–ª–æ—â–∞–¥—å (–∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ –º–µ—Ç—Ä—ã)',
                                                      'TYPE' : '–¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', 'District' : '–†–∞–π–æ–Ω',
                                                      'Close to the sights' : '–ë–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–∏—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º'})

        st.dataframe(similar_rows)    

        folium_static(my_map, width=700, height=700)
    else:
        st.warning('–ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏')
